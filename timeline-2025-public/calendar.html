<html>
<head>
    <title>Calendar</title>
    <link rel="stylesheet" href="css/colors.css">
</head>
<body>
    <div class="calendar-wrapper">
        <div class='calendar'></div>
    </div>
    <script src="../js/timeline/books-index.js"></script>
    <script src='../js/vendor/full-calendar.min.js'></script>
    <script>
function openFile(link) {
    if (!link) {
        return;
    }
    if (window.isIframe) {
        window.parent.postMessage({ url: link }, "*");
    } else {
        window.open(link, "_self");
    }
}

function renderCalendar() {
    const calendarEl = document.getElementsByClassName('calendar')[0];
    const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        initialDate: '2025-01-01',
        headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'multiMonthYear,dayGridMonth'
        },
        events: window.calendarEvents || []
    });
    calendar.render();
}

document.addEventListener("DOMContentLoaded", function() {
    const params = new URLSearchParams(window.location.search);
    for (const [key, value] of params) {
        if (key === "is-iframe" && value === "true") {
            window.isIframe = true;
        }
    }
    renderCalendar();
});
    </script>
    <style>
.calendar-wrapper {
    font-size: 14px;
    width: min(512px, 100vw);
    margin: 20px auto 20px auto;
    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
}

.calendar {
    width: 100%;
}

.fc .fc-button {
    padding: 4px 8px;
}
    </style>
</body>
</html>
