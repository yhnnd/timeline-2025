<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Album 2024.09 - 2025.03</title>
</head>
<body>
  <style>
:root {
  --gray: #F0F0F0;
}
.modal-open {
  overflow: hidden;
}
.container {
  width: 840px;
  margin: 0 auto;
}
#album img,
#album video {
  max-width: 200px;
  max-height: 400px;
}
.date-group {
  background-image: repeating-linear-gradient(
    -45deg,
    var(--gray),
    var(--gray) 25px,
    transparent 25px,
    transparent 50px
  );
  border: 20px solid var(--gray);
  border-top: none;
  margin-bottom: 40px;
}
.date-group-title {
  font-size: 24px;
  border-top: 20px solid var(--gray);
  margin-left: -200px;
  margin-right: -20px;
  height: 34px;
  margin-bottom: -34px;
}
  </style>
  <div class="container">
    <h1 style="font-weight: 100;font-size: 50px;">Album 2024.09 - 2025.03</h1>
  </div>
  <div class="container" id="album">
  </div>
  <div id="inspectImageWrapper" class="inspect-image-wrapper"></div>
  <script>
let imgs = [
"../mobile-pics/Camera/IMG_20241001_160545.jpg",
"../mobile-pics/Camera/IMG_20241001_161046.jpg",
"../mobile-pics/Camera/IMG_20241001_161629.jpg",
"../mobile-pics/Camera/IMG_20241001_183817.jpg",
"../mobile-pics/Camera/IMG_20241001_183931.jpg",
"../mobile-pics/Camera/IMG_20241002_134635.jpg",
"../mobile-pics/Camera/IMG_20241002_134716.jpg",
"../mobile-pics/Camera/IMG_20241002_155348.jpg",
"../mobile-pics/Camera/IMG_20241003_113308.jpg",
"../mobile-pics/Camera/IMG_20241007_153222.jpg",
"../mobile-pics/Camera/IMG_20241022_163513.jpg",
"../mobile-pics/Camera/IMG_20241022_163706.jpg",
"../mobile-pics/Camera/IMG_20241024_173941.jpg",
"../mobile-pics/Camera/IMG_20241024_173952.jpg",
"../mobile-pics/Camera/IMG_20241117_131712.jpg",
"../mobile-pics/Camera/IMG_20241117_135830.jpg",
"../mobile-pics/Camera/IMG_20241117_135855.jpg",
"../mobile-pics/Camera/IMG_20241120_150658.jpg",
"../mobile-pics/Camera/IMG_20241120_150731.jpg",
"../mobile-pics/Camera/IMG_20241125_200033.jpg",
"../mobile-pics/Camera/IMG_20241130_194235.jpg",
"../mobile-pics/Camera/IMG_20241130_195203.jpg",
"../mobile-pics/Camera/IMG_20241212_191952.jpg",
"../mobile-pics/Camera/IMG_20241212_205959.jpg",
"../mobile-pics/Camera/IMG_20241212_210111.jpg",
"../mobile-pics/Camera/IMG_20241214_172201.jpg",
"../mobile-pics/Camera/IMG_20241214_174231.jpg",
"../mobile-pics/Camera/IMG_20241215_175203.jpg",
"../mobile-pics/Camera/IMG_20241215_204004.jpg",
"../mobile-pics/Camera/IMG_20241215_222551.jpg",
"../mobile-pics/Camera/IMG_20241215_222713.jpg",
"../mobile-pics/Camera/IMG_20241215_223723.jpg",
"../mobile-pics/Camera/IMG_20241216_123111.jpg",
"../mobile-pics/Camera/IMG_20241216_194757.jpg",
"../mobile-pics/Camera/IMG_20241221_172714.jpg",
"../mobile-pics/Camera/IMG_20241221_204752.jpg",
"../mobile-pics/Camera/IMG_20241222_202312.jpg",
"../mobile-pics/Camera/IMG_20241223_175338.jpg",
"../mobile-pics/Camera/IMG_20241224_184301.jpg",
"../mobile-pics/Camera/IMG_20241225_100954.jpg",
"../mobile-pics/Camera/IMG_20241226_135444.jpg",
"../mobile-pics/Camera/IMG_20241226_184627.jpg",
"../mobile-pics/Camera/IMG_20241231_225246.jpg",
"../mobile-pics/Camera/IMG_20250106_144322.jpg",
"../mobile-pics/Camera/IMG_20250106_183418.jpg",
"../mobile-pics/Camera/IMG_20250114_130442.jpg",
"../mobile-pics/Camera/IMG_20250116_142902.jpg",
"../mobile-pics/Camera/IMG_20250128_175641.jpg",
"../mobile-pics/Camera/IMG_20250128_180313.jpg",
"../mobile-pics/Camera/IMG_20250129_151752.jpg",
"../mobile-pics/Camera/IMG_20250224_124402.jpg",
"../mobile-pics/Camera/IMG_20250225_201411.jpg",
"../mobile-pics/Camera/IMG_20250225_204316.jpg",
"../mobile-pics/Camera/IMG_20250226_144923.jpg",
"../mobile-pics/Camera/IMG_20250226_201114.jpg",
"../mobile-pics/Camera/IMG_20250226_205419.jpg",
"../mobile-pics/Camera/IMG_20250228_132633.jpg",
"../mobile-pics/Camera/IMG_20250228_133501.jpg",
"../mobile-pics/Camera/IMG_20250228_204654.jpg",
"../mobile-pics/Camera/IMG_20250301_013421.jpg",
"../mobile-pics/Camera/IMG_20250306_133924.jpg",
"../mobile-pics/Camera/IMG_20250306_184348.jpg",
"../mobile-pics/Camera/IMG_20250306_220113.jpg",
"../mobile-pics/Camera/IMG_20250308_185338.jpg",
"../mobile-pics/Camera/IMG_20250309_132909.jpg",
"../mobile-pics/Camera/IMG_20250309_175443.jpg",
"../mobile-pics/Camera/IMG_20250309_175941.jpg",
"../mobile-pics/Camera/IMG_20250309_180720.jpg",
"../mobile-pics/Camera/IMG_20250313_190711.jpg",
"../mobile-pics/Camera/IMG_20250314_141134.jpg",
"../mobile-pics/Camera/VID_20241021_182457.mp4",
"../mobile-pics/Camera/VID_20241124_182740.mp4",
"../mobile-pics/Pictures/bili/1740572107124.jpg",
"../mobile-pics/Pictures/taobao/2c5ce24224966f14c5cad5e25d894e87.png",
"../mobile-pics/Pictures/Telegram/IMG_20250224_090933_000.mp4",
"../mobile-pics/Pictures/Telegram/IMG_20250314_190616_825.jpg",
"../mobile-pics/Pictures/Telegram/IMG_20250315_023244_513.jpg",
"../mobile-pics/Pictures/Telegram/IMG_20250315_151317_034.jpg",
"../mobile-pics/Pictures/Telegram/IMG_20250315_151326_514.jpg",
"../mobile-pics/Pictures/Telegram/IMG_20250315_151338_188.jpg",
"../mobile-pics/Pictures/Telegram/IMG_20250316_050429_216.jpg",
"../mobile-pics/Pictures/TIM/Image_1181567384990.jpg",
"../mobile-pics/Pictures/TIM/Image_1735371932449.png",
"../mobile-pics/Pictures/TIM/Image_1736941387297.jpg",
"../mobile-pics/Pictures/TIM/Image_1739890079600.png",
"../mobile-pics/Pictures/WeiXin/mmexport1736989915348.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1736989949287.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1736989983225.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1736992338386.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1737272860580.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1740365913053.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1740486953102.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1740663552685.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1740663599931.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1740766814854.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1741522290147.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1741936853220.jpg",
"../mobile-pics/Pictures/WeiXin/mmexport1742023792944.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1742023835374.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1742023847422.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1742023855634.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1742024204523.mp4",
"../mobile-pics/Pictures/WeiXin/mmexport1742024208046.mp4",
"../mobile-pics/Pictures/WeiXin/wx_camera_1727692381010.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1727847866976.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1730541994862.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1731134067930.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1733999563903.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1734169966034.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1734271734098.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1736072164962.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1736072251899.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1736072641366.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1737302170706.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1737304294078.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1737378873832.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1740738402660.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1741512867058.jpg",
"../mobile-pics/Pictures/WeiXin/wx_camera_1741930287156.jpg",
"../mobile-pics/Pictures/wv_save_image/1741768904770.jpg",
"../mobile-pics/Pictures/wv_save_image/1741864988470.jpg",
"../mobile-pics/Pictures/1.jpeg",
"../mobile-pics/Pictures/2.png",
"../mobile-pics/Pictures/3.jpeg",
"../mobile-pics/Screenshots/Screenshot_2024-09-23-14-01-35-530_com.MobileTicket.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-10-01-18-38-31-110_com.miui.gallery.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-10-20-16-47-13-017_com.yuxiaor.c.change.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-11-01-00-41-54-722_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-11-19-12-59-55-070_com.tencent.mobileqq.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-11-19-13-00-06-011_com.tencent.mobileqq.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-11-24-13-32-23-958_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-12-01-21-28-47-142_com.MobileTicket.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-12-14-17-39-01-732_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-12-17-14-44-35-056_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-12-17-14-44-40-969_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-12-29-00-45-44-959_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2024-12-31-10-45-20-987_com.MobileTicket.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-01-06-52-45-323_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-02-22-53-37-820_com.tencent.tim.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-02-22-54-04-836_com.tencent.tim.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-16-10-31-03-622_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-16-13-48-28-387_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-22-23-35-39-599_com.jiongji.andriod.card.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-23-10-40-04-804_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-26-12-48-01-221_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-26-16-50-09-518_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-01-28-01-40-14-047_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-05-12-13-31-167_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-04-33-01-271_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-04-33-04-656_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-09-09-24-133_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-09-11-06-096_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-09-11-12-915_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-09-12-50-931_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-09-13-39-103_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-10-07-29-669_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-10-09-40-354_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-10-17-09-687_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-10-17-19-051_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-10-17-32-484_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-24-13-04-33-142_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-27-11-15-54-708_com.xingin.xhs.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-28-18-52-20-260_com.tencent.tim.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-28-18-52-46-258_com.tencent.tim.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-02-28-18-53-09-273_com.tencent.tim.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-04-12-19-32-818_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-04-12-19-36-714_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-04-12-19-58-188_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-08-18-47-02-927_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-11-14-59-39-497_com.tencent.androidqqmail.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-12-17-18-52-137_com.taobao.taobao.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-12-17-18-58-029_com.taobao.taobao.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-12-17-28-17-195_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-14-08-44-47-521_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-14-14-42-34-121_com.autonavi.minimap.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-14-18-25-03-364_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-14-19-06-47-484_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-14-19-07-47-513_com.tencent.mm.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-15-02-35-00-725_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-15-02-36-35-998_com.eg.android.AlipayGphone.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-15-03-30-29-966_org.telegram.messenger.web.jpg",
"../mobile-pics/Screenshots/Screenshot_2025-03-15-15-10-52-541_org.telegram.messenger.web.jpg",
];

function getImageDateByTimeStamp(timestamp) {
  let time = new Date();
  time.setTime(timestamp);
  const year = time.getFullYear();
  const month = String(time.getMonth() + 1).padStart(2, '0');
  const day = String(time.getDate()).padStart(2, '0');
  return year + month + day;
}

function getImageDate(route) {
  const filename = route.split("/").pop();
  let result = "";
  if (route.startsWith("../mobile-pics/手机照片恢复大师/照片")) {
    const timestamp = route.split("/照片")[1].split(".")[0];
    result = getImageDateByTimeStamp(timestamp);
  } else if (route.startsWith("../mobile-pics/Camera/")) {
    result = filename.split("_")[1];
  } else if (route.startsWith("../mobile-pics/Pictures/TIM/Image_")) {
    const timestamp = filename.split("_").pop().split(".")[0];
    result = getImageDateByTimeStamp(timestamp);
  } else if (route.startsWith("../mobile-pics/Pictures/WeiXin/")) {
    let timestamp = "";
    if (filename.startsWith("mmexport")) {
      timestamp = filename.split("mmexport").pop().split(".")[0];
    } else {
      timestamp = filename.split("_").pop().split(".")[0];
    }
    result = getImageDateByTimeStamp(timestamp);
  } else if (route.startsWith("../mobile-pics/Pictures/Telegram/")) {
    result = filename.split("_")[1];
  } else if (route.startsWith("../mobile-pics/Pictures/bili/")) {
    const timestamp = filename.split(".")[0];
    result = getImageDateByTimeStamp(timestamp);
  } else if (route.startsWith("../mobile-pics/Pictures/wv_save_image/")) {
    const timestamp = filename.split(".")[0];
    result = getImageDateByTimeStamp(timestamp);
  } else if (route.startsWith("../mobile-pics/Screenshots/IMG_")) {
    result = filename.split("_")[1];
  } else if (route.startsWith("../mobile-pics/Screenshots/Screenshot_")) {
    const segments = filename.split("_")[1].split("-");
    result = segments[0] + segments[1] + segments[2];
  }
  if (!result) {
    result = "00000000";
  }
  if (result.length !== 8) {
    throw new Error("Failed to parse date for file \"" + route + "\", result is \"" + result + "\"");
  }
  return result;
}

let dateGroups = {};

function formatDate(date) {
  return date.substr(0, 4) + "-" + date.substr(4, 2) + "-" + date.substr(6, 2);
}

function prepareDateGroups(img) {
  const imageDate = getImageDate(img);
  dateGroups[Number(imageDate)] = formatDate(imageDate);
}

const album = document.querySelector("#album");

function appendDateGroups() {
  let dateList = Object.entries(dateGroups);
  for (let i = dateList.length - 1; i >= 0; --i) {
    const date = dateList[i][1];
    let dateGroup = album.querySelector(".date-" + date);
    if (!dateGroup) {
      dateGroup = document.createElement("div");
      dateGroup.className = "date-group date-" + date;
      dateGroup.innerHTML = "<div class='date-group-title'>" + date + "</div>";
      album.append(dateGroup);
    }
  }
}

function appendImg(img) {
  const date = getImageDate(img);
  let dateGroup = album.querySelector(".date-" + formatDate(date));
  if (!dateGroup) {
    throw new Error("dateGroup not found for image \"" + img + "\"");
  }
  const fileType = img.split(".").pop();
  if (["jpg", "jpeg", "png", "webp"].includes(fileType)) {
    dateGroup.innerHTML += "<img src='" + img + "' onclick='inspectImage(\"" + img + "\")'>";
  } else {
    dateGroup.innerHTML += "<video controls><source src=\"" + img + "\" type=\"video/" + fileType + "\"></video>";
  }
}

for (i = 0; i < imgs.length; ++i) {
  prepareDateGroups(imgs[i]);
}

appendDateGroups();

for (i = 0; i < imgs.length; ++i) {
  appendImg(imgs[i]);
}

function inspectImage(src) {
  document.body.classList.add("modal-open");
  document.getElementById('inspectImageWrapper').innerHTML += '<div onclick="quitInspectImage()" style="display: block; position: fixed; top: 0; left: 0; width: 100%; z-index: 1499; height: ' + window.innerHeight + 'px; opacity: 0.8; background: black; filter: brightness(0.1);">' +
      '</div>' +
      '<div onclick="quitInspectImage()" style="display: block; position: fixed; top: 0; left: 0; width: 100%; height: ' + window.innerHeight + 'px; z-index: 1500;">' +
      '<div style="display: flex; width: 100%; height: 100%; align-items: center; justify-content: center;">' +
      '<div style="width: fit-content; max-width: 100%; height: fit-content; max-height: 100%; overflow: scroll;">' +
      '<img style="width: auto; max-width: 100vw; height: auto; max-height: 100vh;" src="' + src + '">' +
      '</div>' +
      '</div>' +
      '</div>';
}

function quitInspectImage() {
  document.body.classList.remove("modal-open");
  document.getElementById('inspectImageWrapper').innerHTML = '';
}
  </script>
</body>
</html>