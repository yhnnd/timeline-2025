Dec 03, 2025

学习笔记 3 优化魔盒操作界面的脚本

let pin1 = document.querySelector(".jx-composite-panel-tabs-header-pin");
pin1 && pin1.click();
let pin2 = document.querySelector(".jx-settings-panel-header-pin");
pin2 && pin2.click();
let style = document.createElement("style");
style.innerHTML = `.jx-composite-panel-tabs-content {width: 512px}
.jx-composite-panel-tabs-header-pin-filled, .jx-settings-panel-pin-filled {display: none}
.jx-main-panel-header-actions .ant-space.ant-space-horizontal {margin-right: 51px !important}
.jx-main-panel-header-actions .ant-space.ant-space-horizontal .ant-space-item:last-child {margin-left: 135px}
.ant-btn-group.jx-view-tools {position: fixed;top: 13px;right: 125px;transform: scale(1.5);}
.ant-btn-group.jx-view-tools .ant-btn:not([disabled]) {background: unset;color: white;border-color: transparent;}
.jx-settings-panel-opener {background: unset;color: white;border: unset;position: fixed;right: 0;top: 0;transform: unset;width: 50px;height: 50px;}`;
document.body.append(style);

Dec 04, 2025

学习笔记 4 优化魔盒操作界面的脚本(新)

let pin1 = document.querySelector(".ant-composite-panel-tabs-header-pin");
pin1 && pin1.click();
let pin2 = document.querySelector(".ant-settings-panel-header-pin");
pin2 && pin2.click();
let style = document.createElement("style");
style.innerHTML = `.ant-composite-panel-tabs-content {width: 512px}
.ant-composite-panel-tabs-header-pin-filled, .ant-settings-panel-pin-filled, .i-icon-smart-optimization {display: none}
.ant-main-panel-header-actions {margin-right: 40px !important}
.ant-main-panel-header-actions .ant-space-item:last-child {margin-left: 135px}
.ant-view-tools {position: fixed;top: 13px;right: 139px;transform: scale(1.5);}
.ant-view-tools .ant-btn:not([disabled]) {background: unset;color: white;border-color: transparent;}
.ant-settings-panel-opener {background: unset;color: white;border: unset;position: fixed;right: 0;top: 0;transform: unset;width: 50px;height: 50px;}
.ant-btn-circle:has(.i-icon-smart-optimization) {display: none}`;
document.body.append(style);

Chrome 专用的魔盒优化插件

manifest.json

{
  "manifest_version": 3,
  "version": "1.0.0",
  "name": "魔盒优化插件",
  "description": "Chrome 专用的魔盒优化插件 v1.0.0 by 于海宁",
  "permissions": ["*://magicbox.jdtest.net/*"],
  "content_scripts": [{
    "matches": ["*://magicbox.jdtest.net/*"],
    "js": ["inject.js"],
    "run_at": "document_end",
    "all_frames": true
  }]
}

inject.js

let style = document.createElement("style");
style.innerHTML = `.jx-composite-panel-tabs-content, .jx-settings-panel,
.ant-composite-panel-tabs-content, .ant-settings-panel {width: 512px;outline: 5px solid red;}

.jx-composite-panel-tabs-header-pin-filled, .jx-settings-panel-pin-filled,
.ant-composite-panel-tabs-header-pin-filled, .ant-settings-panel-pin-filled, .i-icon-smart-optimization {display: none}

.jx-main-panel-header-actions .ant-space.ant-space-horizontal {margin-right: 51px !important}
.ant-main-panel-header-actions {margin-right: 40px !important}

.jx-main-panel-header-actions .ant-space.ant-space-horizontal .ant-space-item:last-child,
.ant-main-panel-header-actions .ant-space-item:last-child {margin-left: 135px}

.jx-view-tools {position: fixed;top: 13px;right: 125px;transform: scale(1.5);}
.ant-view-tools {position: fixed;top: 13px;right: 139px;transform: scale(1.5);}

.jx-view-tools .ant-btn:not([disabled]),
.ant-view-tools .ant-btn:not([disabled]) {background: unset;color: white;border-color: transparent;}

.jx-settings-panel-opener,
.ant-settings-panel-opener,
.jx-settings-panel-header-close {background: unset;color: white;border: unset;position: fixed;right: 0;top: 0;transform: unset;width: 50px;height: 50px;}

.jx-settings-panel-header-close {display: flex;justify-content: center;align-items: center;}

.jx-composite-panel-tabs-header-close:hover, .jx-settings-panel-header-close:hover {transform: unset}

.jx-btn-circle:has(.i-icon-smart-optimization),
.ant-btn-circle:has(.i-icon-smart-optimization) {display: none}

.jx-main-panel-header,
.ant-main-panel-header {background-image: linear-gradient(to right, rgb(3, 105, 161), rgb(56, 189, 248), rgb(30, 64, 175))}
`;
document.body.append(style);

setTimeout(() => {
let pins = document.querySelectorAll(".jx-composite-panel-tabs-header-pin,.jx-settings-panel-header-pin,.ant-composite-panel-tabs-header-pin,.ant-settings-panel-header-pin");
pins.forEach(pin => { pin.click() });
console.log("魔盒优化插件脚本已成功注入并执行！");
document.title = "已被插件优化 - " + document.title;
}, 1000);
